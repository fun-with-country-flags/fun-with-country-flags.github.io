# Fun with Country Flags üèÅ

A vibe-coded knockout tournament to find your favorite country flag ‚Äî built entirely from an iPhone.

**Play it:** [fun-with-country-flags.github.io](https://fun-with-country-flags.github.io)

## The Story

The idea sparked from a Christmas Eve discussion: *what's your favorite flag?* The challenge was to build and deploy the whole thing from a phone. The first version was a single HTML file generated by ChatGPT, pasted into Apple Files, and deployed to GitHub Pages via the mobile website. Since then it's been expanded with Claude Code ‚Äî still vibe-coded, still fun.

## How the Tournament Works

1. **113 country flags** enter a single-elimination bracket
2. You pick your favorite from each pair ‚Äî the loser is eliminated
3. Odd rounds use byes so no flag gets a free pass unfairly
4. After ~112 matches you have a champion (plus a top-5 ranking)
5. Your winner is submitted to a global leaderboard so you can see what the world thinks

Flags render as native emoji on most platforms. On Windows (which doesn't support flag emoji) they load as PNGs from flagcdn.com.

## Architecture

**Frontend** ‚Äî Plain HTML, CSS, and JavaScript. No build tools, no dependencies. Open `index.html` in a browser and it just works.

**Backend** ‚Äî A Cloudflare Workers API with a D1 (SQLite) database, living in the `flag-tournament-api/` directory.

| Route | Purpose |
|---|---|
| `POST /api/vote` | Records a tournament winner (validated by session UUID) |
| `GET /api/leaderboard?limit=N` | Returns aggregated win counts, ranked |

### Setting Up the Workers API

```bash
# Create the worker project
wrangler init flag-tournament-api

# Create the D1 database
wrangler d1 create flag-votes-db
# Copy the output into wrangler.jsonc

# Run the schema migration
cd flag-tournament-api
wrangler d1 execute flag-votes-db --file=./schema.sql

# Local dev
npm run dev        # http://localhost:8787

# Deploy
npm run deploy
```
