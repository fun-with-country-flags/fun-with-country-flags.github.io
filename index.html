<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Flag Knock-Out Tournament</title>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    margin: 0;
    padding: 1rem;
    background: #f4f4f4;
    text-align: center;
  }

  h1 {
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
  }

  .controls {
    margin-bottom: 1rem;
    font-size: 0.9rem;
  }

  .round {
    font-size: 0.9rem;
    margin-bottom: 1rem;
    color: #555;
  }

  .match {
    display: flex;
    gap: 1rem;
    justify-content: center;
  }

  .flag-card {
    background: white;
    border-radius: 12px;
    padding: 1rem;
    width: 45%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .flag {
    font-size: 4rem;
    margin-bottom: 0.5rem;
  }

  button {
    padding: 0.5rem;
    font-size: 1rem;
    border: none;
    border-radius: 8px;
    background: #222;
    color: white;
  }

  button:active {
    transform: scale(0.97);
  }

  .winner {
    margin-top: 2rem;
  }

  .winner .flag {
    font-size: 6rem;
  }

  .ranking {
    margin-top: 2rem;
    text-align: left;
    background: white;
    padding: 1rem;
    border-radius: 12px;
  }

  .ranking ol {
    padding-left: 1.2rem;
  }
</style>
</head>

<body>

<h1>Coolest Country Flag</h1>

<div class="controls">
  <label>
    <input type="checkbox" id="toggleNames" checked />
    Show country names
  </label>
</div>

<div class="round" id="roundInfo"></div>
<div id="app"></div>

<script>
const flags = [
  { name:"Afghanistan",emoji:"ğŸ‡¦ğŸ‡«"},{name:"Albania",emoji:"ğŸ‡¦ğŸ‡±"},
  { name:"Algeria",emoji:"ğŸ‡©ğŸ‡¿"},{name:"Andorra",emoji:"ğŸ‡¦ğŸ‡©"},
  { name:"Angola",emoji:"ğŸ‡¦ğŸ‡´"},{name:"Argentina",emoji:"ğŸ‡¦ğŸ‡·"},
  { name:"Armenia",emoji:"ğŸ‡¦ğŸ‡²"},{name:"Australia",emoji:"ğŸ‡¦ğŸ‡º"},
  { name:"Austria",emoji:"ğŸ‡¦ğŸ‡¹"},{name:"Azerbaijan",emoji:"ğŸ‡¦ğŸ‡¿"},
  { name:"Bahamas",emoji:"ğŸ‡§ğŸ‡¸"},{name:"Bahrain",emoji:"ğŸ‡§ğŸ‡­"},
  { name:"Bangladesh",emoji:"ğŸ‡§ğŸ‡©"},{name:"Belarus",emoji:"ğŸ‡§ğŸ‡¾"},
  { name:"Belgium",emoji:"ğŸ‡§ğŸ‡ª"},{name:"Bolivia",emoji:"ğŸ‡§ğŸ‡´"},
  { name:"Bosnia",emoji:"ğŸ‡§ğŸ‡¦"},{name:"Botswana",emoji:"ğŸ‡§ğŸ‡¼"},
  { name:"Brazil",emoji:"ğŸ‡§ğŸ‡·"},{name:"Bulgaria",emoji:"ğŸ‡§ğŸ‡¬"},
  { name:"Cambodia",emoji:"ğŸ‡°ğŸ‡­"},{name:"Cameroon",emoji:"ğŸ‡¨ğŸ‡²"},
  { name:"Canada",emoji:"ğŸ‡¨ğŸ‡¦"},{name:"Chile",emoji:"ğŸ‡¨ğŸ‡±"},
  { name:"China",emoji:"ğŸ‡¨ğŸ‡³"},{name:"Colombia",emoji:"ğŸ‡¨ğŸ‡´"},
  { name:"Costa Rica",emoji:"ğŸ‡¨ğŸ‡·"},{name:"Croatia",emoji:"ğŸ‡­ğŸ‡·"},
  { name:"Cuba",emoji:"ğŸ‡¨ğŸ‡º"},{name:"Cyprus",emoji:"ğŸ‡¨ğŸ‡¾"},
  { name:"Czechia",emoji:"ğŸ‡¨ğŸ‡¿"},{name:"Denmark",emoji:"ğŸ‡©ğŸ‡°"},
  { name:"Dominican Republic",emoji:"ğŸ‡©ğŸ‡´"},{name:"Ecuador",emoji:"ğŸ‡ªğŸ‡¨"},
  { name:"Egypt",emoji:"ğŸ‡ªğŸ‡¬"},{name:"El Salvador",emoji:"ğŸ‡¸ğŸ‡»"},
  { name:"Estonia",emoji:"ğŸ‡ªğŸ‡ª"},{name:"Ethiopia",emoji:"ğŸ‡ªğŸ‡¹"},
  { name:"Finland",emoji:"ğŸ‡«ğŸ‡®"},{name:"France",emoji:"ğŸ‡«ğŸ‡·"},
  { name:"Georgia",emoji:"ğŸ‡¬ğŸ‡ª"},{name:"Germany",emoji:"ğŸ‡©ğŸ‡ª"},
  { name:"Ghana",emoji:"ğŸ‡¬ğŸ‡­"},{name:"Greece",emoji:"ğŸ‡¬ğŸ‡·"},
  { name:"Guatemala",emoji:"ğŸ‡¬ğŸ‡¹"},{name:"Honduras",emoji:"ğŸ‡­ğŸ‡³"},
  { name:"Hungary",emoji:"ğŸ‡­ğŸ‡º"},{name:"Iceland",emoji:"ğŸ‡®ğŸ‡¸"},
  { name:"India",emoji:"ğŸ‡®ğŸ‡³"},{name:"Indonesia",emoji:"ğŸ‡®ğŸ‡©"},
  { name:"Iran",emoji:"ğŸ‡®ğŸ‡·"},{name:"Iraq",emoji:"ğŸ‡®ğŸ‡¶"},
  { name:"Ireland",emoji:"ğŸ‡®ğŸ‡ª"},{name:"Israel",emoji:"ğŸ‡®ğŸ‡±"},
  { name:"Italy",emoji:"ğŸ‡®ğŸ‡¹"},{name:"Jamaica",emoji:"ğŸ‡¯ğŸ‡²"},
  { name:"Japan",emoji:"ğŸ‡¯ğŸ‡µ"},{name:"Jordan",emoji:"ğŸ‡¯ğŸ‡´"},
  { name:"Kazakhstan",emoji:"ğŸ‡°ğŸ‡¿"},{name:"Kenya",emoji:"ğŸ‡°ğŸ‡ª"},
  { name:"Kuwait",emoji:"ğŸ‡°ğŸ‡¼"},{name:"Latvia",emoji:"ğŸ‡±ğŸ‡»"},
  { name:"Lebanon",emoji:"ğŸ‡±ğŸ‡§"},{name:"Lithuania",emoji:"ğŸ‡±ğŸ‡¹"},
  { name:"Luxembourg",emoji:"ğŸ‡±ğŸ‡º"},{name:"Malaysia",emoji:"ğŸ‡²ğŸ‡¾"},
  { name:"Mexico",emoji:"ğŸ‡²ğŸ‡½"},{name:"Moldova",emoji:"ğŸ‡²ğŸ‡©"},
  { name:"Morocco",emoji:"ğŸ‡²ğŸ‡¦"},{name:"Netherlands",emoji:"ğŸ‡³ğŸ‡±"},
  { name:"New Zealand",emoji:"ğŸ‡³ğŸ‡¿"},{name:"Nigeria",emoji:"ğŸ‡³ğŸ‡¬"},
  { name:"North Macedonia",emoji:"ğŸ‡²ğŸ‡°"},{name:"Norway",emoji:"ğŸ‡³ğŸ‡´"},
  { name:"Oman",emoji:"ğŸ‡´ğŸ‡²"},{name:"Pakistan",emoji:"ğŸ‡µğŸ‡°"},
  { name:"Panama",emoji:"ğŸ‡µğŸ‡¦"},{name:"Paraguay",emoji:"ğŸ‡µğŸ‡¾"},
  { name:"Peru",emoji:"ğŸ‡µğŸ‡ª"},{name:"Philippines",emoji:"ğŸ‡µğŸ‡­"},
  { name:"Poland",emoji:"ğŸ‡µğŸ‡±"},{name:"Portugal",emoji:"ğŸ‡µğŸ‡¹"},
  { name:"Qatar",emoji:"ğŸ‡¶ğŸ‡¦"},{name:"Romania",emoji:"ğŸ‡·ğŸ‡´"},
  { name:"Saudi Arabia",emoji:"ğŸ‡¸ğŸ‡¦"},{name:"Serbia",emoji:"ğŸ‡·ğŸ‡¸"},
  { name:"Singapore",emoji:"ğŸ‡¸ğŸ‡¬"},{name:"Slovakia",emoji:"ğŸ‡¸ğŸ‡°"},
  { name:"Slovenia",emoji:"ğŸ‡¸ğŸ‡®"},{name:"South Africa",emoji:"ğŸ‡¿ğŸ‡¦"},
  { name:"South Korea",emoji:"ğŸ‡°ğŸ‡·"},{name:"Spain",emoji:"ğŸ‡ªğŸ‡¸"},
  { name:"Sweden",emoji:"ğŸ‡¸ğŸ‡ª"},{name:"Switzerland",emoji:"ğŸ‡¨ğŸ‡­"},
  { name:"Thailand",emoji:"ğŸ‡¹ğŸ‡­"},{name:"Tunisia",emoji:"ğŸ‡¹ğŸ‡³"},
  { name:"Turkey",emoji:"ğŸ‡¹ğŸ‡·"},{name:"Ukraine",emoji:"ğŸ‡ºğŸ‡¦"},
  { name:"United Arab Emirates",emoji:"ğŸ‡¦ğŸ‡ª"},{name:"United Kingdom",emoji:"ğŸ‡¬ğŸ‡§"},
  { name:"United States",emoji:"ğŸ‡ºğŸ‡¸"},{name:"Uruguay",emoji:"ğŸ‡ºğŸ‡¾"},
  { name:"Uzbekistan",emoji:"ğŸ‡ºğŸ‡¿"},{name:"Venezuela",emoji:"ğŸ‡»ğŸ‡ª"},
  { name:"Vietnam",emoji:"ğŸ‡»ğŸ‡³"},{name:"Zimbabwe",emoji:"ğŸ‡¿ğŸ‡¼"}
];

let currentRound = [...flags];
let nextRound = [];
let eliminated = [];
let matchIndex = 0;
let roundNumber = 1;
const totalRounds = Math.ceil(Math.log2(flags.length));

function roundLabel(size) {
  return size === 128 ? "First round" :
         size === 64  ? "Round of 64" :
         size === 32  ? "Round of 32" :
         size === 16  ? "Round of 16" :
         size === 8   ? "Quarter-finals" :
         size === 4   ? "Semi-finals" :
         size === 2   ? "Final" : "";
}

function renderMatch() {
  const app = document.getElementById("app");
  const showNames = document.getElementById("toggleNames").checked;

  document.getElementById("roundInfo").textContent =
    `${roundLabel(currentRound.length)} â€” Round ${roundNumber} of ${totalRounds}`;

  if (currentRound.length === 1) {
    const ranking = [currentRound[0], ...eliminated.reverse()];
    app.innerHTML = `
      <div class="winner">
        <h2>Winner</h2>
        <div class="flag">${ranking[0].emoji}</div>
        <p>${ranking[0].name}</p>
      </div>
      <div class="ranking">
        <h3>Final rankings (1â€“${ranking.length})</h3>
        <ol>${ranking.map(f => `<li>${f.emoji} ${f.name}</li>`).join("")}</ol>
      </div>
    `;
    return;
  }

  const a = currentRound[matchIndex];
  const b = currentRound[matchIndex + 1];

  app.innerHTML = `
    <div class="match">
      <div class="flag-card">
        <div class="flag">${a.emoji}</div>
        <button onclick="pickWinner(${matchIndex}, ${matchIndex + 1})">
          ${showNames ? a.name : "Select"}
        </button>
      </div>
      <div class="flag-card">
        <div class="flag">${b.emoji}</div>
        <button onclick="pickWinner(${matchIndex + 1}, ${matchIndex})">
          ${showNames ? b.name : "Select"}
        </button>
      </div>
    </div>
  `;
}

function pickWinner(winnerIndex, loserIndex) {
  const winner = currentRound[winnerIndex];
  const loser = currentRound[loserIndex];

  nextRound.push(winner);
  eliminated.push(loser);
  matchIndex += 2;

  if (matchIndex >= currentRound.length) {
    currentRound = nextRound;
    nextRound = [];
    matchIndex = 0;
    roundNumber++;
  }

  renderMatch();
}

document.getElementById("toggleNames").addEventListener("change", renderMatch);
renderMatch();
</script>

</body>
</html>
